<!DOCTYPE html>
<html lang="en">

<head>

    <script src="src/scripts/bot.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinTrack - Sign In</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="src/styles/vvvg.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'accent-primary': '#077a12',
                        'accent-secondary': '#b7f5c6',
                        'feature-card-bg': '#0d3d23',
                        'feature-card-hover': '#124f2d',
                        'get-started-bg': '#2997ff',
                        'text-secondary': '#86868b',
                        'success': '#32d74b',
                        'danger': '#ff453a',
                    }
                }
            }
        }
    </script>

    <link rel="icon" type="image/x-icon" href="public/favicon.ico">
    <link rel="stylesheet" href="src/styles/hamburgr.css">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="src/scripts/google.js"></script>
    <script src="src/scripts/signedin.js"></script>
    <style>
        .sidebar {
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            overflow-y: auto;
        }
    </style>
</head>

<body class="bg-gray-100 min-h-screen relative">
    <div class="fixed right-0 bottom-0 min-w-full min-h-full w-auto h-auto -z-10 brightness-80">

    </div>

    <nav class="nav">
        <div class="hamburger-menu">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>

        <div class="sidebar-overlay"></div>

        <div class="sidebar">
            <div class="sidebar-header">
                <a href="profile.html" class="profile-link">
                    <img src="public/pngtree-avatar-icon-profile-icon-member-login-vector-isolated-png-image_5247852.jpg"
                        alt="Profile" class="profile-icon">
                </a>
                <div class="close-btn">&times;</div>
            </div>
            <div class="sidebar-content">
                <a href="index.html">Home</a>
                <a href="dashboard.html">Dashboard</a>
                <a href="learn-more-html.html">Learn More</a>
                <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
                <a href="customer_support.html">Contact Us</a>
                <a href="#" id="logout-btn" style="display: none;" class="nav-link" onclick="logout()">Log Out</a>
            </div>
        </div>

        <script src="src/scripts/hmg.js"></script>

        <div class="logo">FinTrack</div>
        <div class="nav-links">
            <a href="index.html" class="nav-link">Home</a>
            <a href="dashboard.html" class="nav-link">Dashboard</a>
            <a href="signin.html" id="auth-link" style="display: none;" class="nav-link">Sign In</a>
        </div>
    </nav>
    <div class="max-w-lg mx-auto my-10 p-10 bg-white rounded-2xl shadow-2xl backdrop-blur-md">
        <div class="text-center mb-8">
            <h1 class="text-3xl font-bold mb-4 leading-tight tracking-tight" style="background: linear-gradient(to right, #2c5ce0, #ff5733);
           -webkit-background-clip: text;
           -webkit-text-fill-color: transparent;">
                Welcome Back
            </h1>
            <p class="text-black text-base">Sign in to access your FinTrack dashboard</p>
        </div>

        <form id="signInForm" action="#" method="POST">
            <div class="mb-6">
                <label for="email" class="block mb-2 text-sm font-medium text-black">Email Address</label>

                <input type="email" id="email" name="email"
                    class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                    placeholder="youremail@example.com" required>
            </div>

            <div class="mb-6">
                <label for="password" class="block mb-2 text-sm font-medium text-black">Password</label>
                <input type="password" id="password" name="password"
                    class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                    placeholder="••••••••" required>
            </div>

            <div class="flex items-start mb-6">
                <input type="checkbox" id="rememberMe" name="remember-me" class="mr-2 mt-1">
                <label for="remember-me" class="text-sm text-text-secondary">Remember me on this device</label>
            </div>

            <div class="relative my-8 border-t border-white/10 whitespace-nowrap">
                <span
                    class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 px-4 text-xl text-black font-bold">
                    Need Help?
                </span>
            </div>

            <div class="mb-6 text-center">
                <a href="forgotpassword.html"
                    class="text-get-started-bg text-sm font-medium hover:underline transition duration-300">Forgot
                    password?</a>
            </div>

            <button type="submit" onclick="handleSignIn(event)"
                class="w-full py-3 px-6 bg-get-started-bg hover:bg-blue-600 text-white font-semibold text-base rounded-lg transition duration-300 hover:-translate-y-0.5 mb-4">Sign
                In</button>

            <div class="text-center mt-6 text-text-secondary text-sm">
                Don't have an account? <a href="signup.html"
                    class="text-get-started-bg font-semibold hover:text-blue-500 transition duration-300">Sign up
                    now</a>
            </div>
        </form>

        <div class="mt-8 text-center">
            <div class="relative my-8 border-t border-white/10 whitespace-nowrap">
                <span
                    class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 px-4 text-xl text-black font-bold">
                    Or sign-in with
                </span>
            </div>

            <div class="flex justify-center gap-4 mt-4">
                <button onclick="googleSignIn()"
                    class="flex items-center justify-center w-12 h-12 rounded-lg border border-gray-500 transition duration-300 hover:bg-gray-200 hover:-translate-y-0.5">
                    <img src="public/images.jpeg" alt="Google Sign-In" class="w-8 h-8">
                </button>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-column">
                <h4>Product</h4>
                <ul>
                    <li><a href="#">Features</a></li>
                    <li><a href="#">Pricing</a></li>
                    <li><a href="#">Mobile App</a></li>
                    <li><a href="#">Browser Extension</a></li>
                    <li><a href="#">Roadmap</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h4>Company</h4>
                <ul>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Careers</a></li>
                    <li><a href="#">Press Kit</a></li>
                    <li><a href="#">Blog</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h4>Resources</h4>
                <ul>
                    <li><a href="#">Help Center</a></li>
                    <li><a href="#">Community</a></li>
                    <li><a href="#">Financial Guides</a></li>
                    <li><a href="#">API Documentation</a></li>
                    <li><a href="#">Security</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h4>Connect With Us</h4>
                <p>Subscribe to our newsletter for tips, updates, and financial wisdom.</p>
                <div class="social-icons">
                    <a href="#" class="social-icon">X</a>
                    <a href="#" class="social-icon">F</a>
                    <a href="#" class="social-icon">I</a>
                    <a href="#" class="social-icon">L</a>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <p>© 2025 FinTrack. All rights reserved.</p>
            <p style="margin-top: 8px;">
                <a href="#" style="margin-right: 16px;">Privacy Policy</a>
                <a href="#" style="margin-right: 16px;">Terms of Service</a>
                <a href="#">Cookie Settings</a>
            </p>
        </div>
    </footer>


    <script>
        async function handleSignIn(event) {
            event.preventDefault();

            const formData = {
                email: document.getElementById("email").value,
                password: document.getElementById("password").value,
                rememberMe: document.getElementById("rememberMe").checked
            };

            if (!formData.email || !formData.password) {
                alert("Please fill in all fields.");
                return;
            }
            try {
                const response = await fetch("https://my-backend-api-erp6.onrender.com/api/signin", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(formData),
                    // credentials: "include"
                });
                console.log(response);
                const data = await response.json();

                if (data.valid === 1) {
                    alert("Invalid Email or Password");
                    return;
                } else if (data.valid === 2) {
                    alert("No User found! Sign-up first!");
                    return;
                }
                alert("signed-in");
                localStorage.setItem("jwtToken", data.accessToken);
                console.log("jwtToken");
                localStorage.setItem("monthlyincome", data.monthlyincome);
                localStorage.setItem("userEmail", formData.email);
                window.location.href = "dashboard.html";
            } catch (error) {
                console.error("Error:", error);
                alert("An error occurred. Please try again later.");
            }
        }
    </script>
</body>

</html>
