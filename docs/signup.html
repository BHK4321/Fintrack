<!DOCTYPE html>
<html lang="en">

<head>
    
    <script src = "bot.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinTrack - Sign Up</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'accent-primary': '#077a12',
                        'accent-secondary': '#b7f5c6',
                        'feature-card-bg': '#0d3d23',
                        'feature-card-hover': '#124f2d',
                        'get-started-bg': '#2997ff',
                        'text-secondary': '#86868b',
                        'success': '#32d74b',
                        'danger': '#ff453a',
                    }
                }
            }
        }
    </script>
    <script src = "signedin.js"></script>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="vvvg.css">
    <link rel="stylesheet" href="hamburgr.css">
    <!-- <link rel="stylesheet" href="all.css"> s-->
    <style>
        .sidebar {
          height: 100vh; /* Set the sidebar height to 100% of viewport heights */
          position: fixed;
          top: 0;
          left: 0;
          overflow-y: auto;
          transform: translateX(-100%); /* Start with sidebar off-screen */
          transition: transform 0.3s ease-in-out;
        }
        
        .sidebar.active {
          transform: translateX(0); /* Bring sidebar on-screen when active */
        }
        
        .sidebar-overlay {
          display: none;
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: rgba(0, 0, 0, 0.5);
          z-index: 49;
        }
        
        .sidebar-overlay.active {
          display: block;
        }
      </style>
</head>

<body class="bg-gray-100 min-h-screen relative">
    

    <nav class="sticky top-0 z-50 flex justify-between items-center py-5 px-6" style="background-color: #002b4d; backdrop-filter: blur(10px);">


        <div class="hamburger-menu">
          <div class="bar"></div>
          <div class="bar"></div>
          <div class="bar"></div>
        </div>
      
       <div class="sidebar-overlay"></div>
      
       <div class="sidebar">
          <div class="sidebar-header">
              <a href="profile.html" class="profile-link">
                  <img src="pngtree-avatar-icon-profile-icon-member-login-vector-isolated-png-image_5247852.jpg" alt="Profile" class="profile-icon">
              </a>
              <div class="close-btn">&times;</div>
          </div>
          <div class="sidebar-content">
              <a href="index.html">Home</a>
              <a href="signin.html" id="auth-link" style="display: none;" class="nav-link">Sign In</a>
              <a href="dashboard.html">Dashboard</a>
              <a href="learn-more-html.html">Learn More</a>
              <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
              <a href="customer_support.html">Contact Us</a>
              <a href="#" id="logout-btn" style="display: none;" class="nav-link" onclick="logout()">Log Out</a>
          </div>
       </div>
      
        <script src="hmg.js"></script>
        
        <!-- Adding a fix for the hamburger menu issue -->
        <script>
          document.addEventListener('DOMContentLoaded', function() {
            // Override any auto-opening behavior from hmg.js
            const sidebar = document.querySelector('.sidebar');
            const overlay = document.querySelector('.sidebar-overlay');
            
            // Make sure sidebar is closed on page load
            sidebar.classList.remove('active');
            overlay.classList.remove('active');
            
            // Ensure the hamburger only opens on click
            const hamburger = document.querySelector('.hamburger-menu');
            hamburger.addEventListener('click', function() {
              sidebar.classList.add('active');
              overlay.classList.add('active');
            });
            
            // Close sidebar when clicking close button or overlay
            const closeBtn = document.querySelector('.close-btn');
            closeBtn.addEventListener('click', function() {
              sidebar.classList.remove('active');
              overlay.classList.remove('active');
            });
            
            overlay.addEventListener('click', function() {
              sidebar.classList.remove('active');
              overlay.classList.remove('active');
            });
          });
        </script>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        <div class="text-5xl font-semibold ml-4 md:ml-24 tracking-tighter" 
         style="background: linear-gradient(to right, #0066cc, #66b3ff);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;">
       FinTrack
       </div>
    
        <div class="flex gap-6 mr-4 md:mr-8">
          <a href="index.html" class="text-text-secondary hover:text-white text-sm font-medium transition duration-300">Home</a>
          <!-- <a href="learn-more.html" class="text-text-secondary hover:text-white text-sm font-medium transition duration-300">Learn More</a> -->
          <!-- <a href="#" class="text-text-secondary hover:text-white text-sm font-medium transition duration-300">Features</a> -->
          <a href="#" class="text-text-secondary hover:text-white text-sm font-medium transition duration-300">Dashboard</a>
          <a href="signup.html" class="text-text-secondary hover:text-white text-sm font-medium transition duration-300">Sign in</a>
        </div>
      </nav>

    <div class="max-w-lg mx-auto my-10 p-10 bg-white rounded-2xl shadow-2xl backdrop-blur-md">
        <div class="text-center mb-8">
            <h1
  class="text-3xl font-bold mb-4 leading-tight tracking-tight"
  style="background: linear-gradient(to right, #2c5ce0, #ff5733); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
  Create Your Account
</h1>
<p class="text-black text-base">
    Join thousands of users managing their finances with FinTrack
  </p>
        </div>

        <form action="#" method="POST">
            <div class="flex flex-col md:flex-row gap-5 mb-4">
                <div class="flex-1 mb-6">
                    <label for="first-name" class="block mb-2 text-sm font-medium text-black">
                        First Name
                      </label>
                    <input type="text" id="first-name" name="first-name"
                        class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                        placeholder="John" required>
                </div>

                <div class="flex-1 mb-6">
                    <label for="last-name" class="block mb-2 text-sm font-medium text-black">Last Name</label>
                    <input type="text" id="last-name" name="last-name"
                        class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                        placeholder="Doe" required>
                </div>
            </div>

            <div class="mb-6">
                <label for="email" class="block mb-2 text-sm font-medium text-black">Email Address</label>
                <input type="email" id="email" name="email"
                    class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                    placeholder="youremail@example.com" required>
            </div>

            <div class="flex flex-col md:flex-row gap-5 mb-4">
                <div class="flex-1 mb-6">
                    <label for="password" class="block mb-2 text-sm font-medium text-black">Password</label>
                    <input type="password" id="password" name="password"
                        class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                        placeholder="••••••••" required>
                </div>

                <div class="flex-1 mb-6">
                    <label for="confirm-password" class="block mb-2 text-sm font-medium text-black">Confirm
                        Password</label>
                    <input type="password" id="confirm-password" name="confirm-password"
                        class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                        placeholder="••••••••" required>
                </div>
            </div>

            <div class="mb-6">
                <label for="phone" class="block mb-2 text-sm font-medium text-black">Phone Number</label>
                <input type="tel" id="phone" name="phone"
                    class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                    placeholder="+91 98765 43210" required>
            </div>
            <div class="mb-6">
                <label for="userage" class="block mb-2 text-sm font-medium text-black">Age</label>
                <input type="number" id="userAge" name="phone"
                    class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                    placeholder="Enter age" required>
            </div>
            <hr>
            <div class="relative my-8 border-t border-white/10 whitespace-nowrap flex justify-center">
                <p
  class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 px-4 text-xl font-bold text-black">
  Personal Information
</p>
                <p class="text-gray-500 mt-2"> (For better assistance)</p>
            </div>
            <div class="mb-6 flex items-center gap-3">
                <input type="checkbox" id="married-checkbox"
                    class="w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500">
                <label for="married-checkbox" class="block mb-2 text-sm font-medium text-black">Married</label>
            </div>

            <!-- Spouse Details Section -->
            <div id="spouse-details"
                class="spouse-details-hidden p-4 rounded-lg border border-gray-300 transition-all duration-500">
                <div class="mb-6">
                    <label for="spouse-name" class="block mb-2 text-sm font-medium text-black">Spouse Name</label>
                    <input type="text" id="spouse-name" name="spouse-name"
                        class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                        placeholder="Spouse Name">
                </div>

                <div class="mb-6">
                    <label for="spouse-income" class="block mb-2 text-sm font-medium text-black">Spouse Monthly
                        Income</label>
                    <input type="text" id="spouse-income" name="spouse-income"
                        class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                        placeholder="Enter Income">
                </div>

                <div class="mb-6">
                    <label for="spouse-age" class="block mb-2 text-sm font-medium text-black">Spouse's Age</label>
                    <input type="number" id="spouse-age" name="spouse-age"
                        class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                        placeholder="Enter Spouse's Age">
                </div>

                <div class="mb-6">
                    <label for="num-children" class="block mb-2 text-sm font-medium text-black">Number of
                        Children</label>
                    <input type="number" id="num-children" name="num-children"
                        class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                        placeholder="0">
                </div>
            </div>
            <style>
                .spouse-details-hidden {
                    max-height: 0;
                    overflow: hidden;
                    padding-top: 0;
                    padding-bottom: 0;
                    opacity: 0;
                    border-width: 0;
                }

                .spouse-details-visible {
                    max-height: 1000px;
                    opacity: 1;
                }
            </style>
            <script>
                document.getElementById("married-checkbox").addEventListener("change", function () {
                    const spouseDetails = document.getElementById("spouse-details");
                    if (this.checked) {
                        spouseDetails.classList.remove("spouse-details-hidden");
                        spouseDetails.classList.add("spouse-details-visible");
                    } else {
                        spouseDetails.classList.add("spouse-details-hidden");
                        spouseDetails.classList.remove("spouse-details-visible");
                    }
                });
            </script>

            <hr>
            <div class="relative my-8 border-t border-white/10 whitespace-nowrap flex justify-center">
                <p
  class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 px-4 text-xl font-bold text-black">
  Financial Information
</p>
                <p class="text-gray-500 mt-2"> (For better assistance)</p>
            </div>


            <div class="mb-6">
                <label for="income" class="block mb-2 text-sm font-medium text-black">Your Monthly Income</label>
                <input type="text" id="income" name="income"
                    class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                    placeholder="Enter Income" required>
            </div>

            <div class="mb-6">
                <label for="Goal" class="block mb-2 text-sm font-medium text-black">Primary financial Goal</label>
                <input type="text" id="Goal" name="goal"
                    class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                    placeholder="For better planning assistance." required>
            </div>
            <hr>
            <div class="relative my-8 border-t border-white/10 whitespace-nowrap flex justify-center">
                <p
  class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 px-4 text-xl font-bold text-black">
  Account & Banking details
</p>
                <p class="text-gray-500 mt-2">(Optional)</p>
            </div>


            <div class="mb-6">
                <label for="bank-name" class="block mb-2 text-sm font-medium text-black">Bank Name</label>
                <input type="text" id="bank-name" name="bank-name"
                    class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                    placeholder="State Bank of India">
            </div>

            <div class="flex flex-col md:flex-row gap-5 mb-4">
                <div class="flex-1 mb-6">
                    <label for="account-number" class="block mb-2 text-sm font-medium text-black">Account
                        Number</label>
                    <input type="password" id="account-number" name="account-number"
                        class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                        placeholder="XXXX XXXX XXXX">
                </div>

                <div class="flex-1 mb-6">
                    <label for="ifsc-code" class="block mb-2 text-sm font-medium text-black">IFSC/SWIFT Code</label>
                    <input type="text" id="ifsc-code" name="ifsc-code"
                        class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                        placeholder="SBIN0001234">
                </div>
            </div>

            <div class="flex flex-col md:flex-row gap-5 mb-4">
                <div class="flex-1 mb-6">
                    <label for="upi-id" class="block mb-2 text-sm font-medium text-black">UPI ID</label>
                    <input type="text" id="upi-id" name="upi-id"
                        class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                        placeholder="name@upi">
                </div>

                <div class="flex-1 mb-6">
                    <label for="card-digits" class="block mb-2 text-sm font-medium text-black">Linked Card (Last 4
                        digits)</label>
                    <input type="text" id="card-digits" name="card-digits"
                        class="w-full p-3 rounded-lg border-2 border-gray-300 bg-white/10 text-green-600 text-base transition duration-300 focus:outline-none focus:border-accent-primary focus:bg-white/10"
                        placeholder="XXXX" maxlength="4" pattern="[0-9]{4}">
                </div>
            </div>
            <hr>
            <br>
            <div class="flex items-start mb-6">
                <input type="checkbox" id="remember-me" name="remember-me" class="mr-2 mt-1">
                <label for="remember-me" class="text-sm text-text-secondary">Remember me on this device</label>
            </div>

            <div class="flex items-start mb-6">
                <input type="checkbox" id="terms" name="terms" class="mr-2 mt-1" required>
                <label for="terms" class="text-sm text-text-secondary">I agree to the <a href="#"
                        class="text-get-started-bg hover:underline">Terms of Service</a> and <a href="#"
                        class="text-get-started-bg hover:underline">Privacy Policy</a></label>
            </div>

            <div class="flex items-start mb-6">
                <input type="checkbox" id="marketing" name="marketing" class="mr-2 mt-1">
                <label for="marketing" class="text-sm text-text-secondary">I would like to receive financial tips,
                    product updates, and promotional emails</label>
            </div>

            <button type="submit" onclick="handleSignup(event)"
                class="w-full py-3 px-6 bg-get-started-bg hover:bg-blue-600 text-white font-semibold text-base rounded-lg transition duration-300 hover:-translate-y-0.5 mb-4">Create
                Account</button>

            <div class="text-center mt-6 text-text-secondary text-sm">
                Already have an account? <a href="signin.html"
                    class="text-get-started-bg font-semibold hover:text-blue-500 transition duration-300">Sign in</a>
            </div>
        </form>
        </div>
    </div>
    <footer class="footer">
        <div class="footer-content">
          <div class="footer-column">
            <h4>Product</h4>
            <ul>
              <li><a href="#">Features</a></li>
              <li><a href="#">Pricing</a></li>
              <li><a href="#">Mobile App</a></li>
              <li><a href="#">Browser Extension</a></li>
              <li><a href="#">Roadmap</a></li>
            </ul>
          </div>
          
          <div class="footer-column">
            <h4>Company</h4>
            <ul>
              <li><a href="#">About Us</a></li>
              <li><a href="#">Careers</a></li>
              <li><a href="#">Press Kit</a></li>
              <li><a href="#">Blog</a></li>
              <li><a href="#">Contact</a></li>
            </ul>
          </div>
          
          <div class="footer-column">
            <h4>Resources</h4>
            <ul>
              <li><a href="#">Help Center</a></li>
              <li><a href="#">Community</a></li>
              <li><a href="#">Financial Guides</a></li>
              <li><a href="#">API Documentation</a></li>
              <li><a href="#">Security</a></li>
            </ul>
          </div>
          
          <div class="footer-column">
            <h4>Connect With Us</h4>
            <p>Subscribe to our newsletter for tips, updates, and financial wisdom.</p>
            <div class="social-icons">
              <a href="#" class="social-icon">X</a>
              <a href="#" class="social-icon">F</a>
              <a href="#" class="social-icon">I</a>
              <a href="#" class="social-icon">L</a>
            </div>
          </div>
        </div>
        
        <div class="footer-bottom">
          <p>© 2025 FinTrack. All rights reserved.</p>
          <p style="margin-top: 8px;">
            <a href="#" style="margin-right: 16px;">Privacy Policy</a>
            <a href="#" style="margin-right: 16px;">Terms of Service</a>
            <a href="#">Cookie Settings</a>
          </p>
        </div>
      </footer>
    <script>
        function isValidEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }

        function isValidPhone(phone) {
            return /^\d{10}$/.test(phone);
        }

        function isValidIFSC(ifsc) {
            return /^[A-Z]{4}0[A-Z0-9]{6}$/.test(ifsc);
        }

        function isValidUPI(upi) {
            return /^[a-zA-Z0-9.\-_]{2,256}@[a-zA-Z]{2,64}$/.test(upi);
        }

        async function handleSignup(event) {
            let errors = [];
            event.preventDefault();

            const formData = {
                username : "Newbie",
                firstName: document.getElementById("first-name").value,
                lastName: document.getElementById("last-name").value,
                email: document.getElementById("email").value,
                password: document.getElementById("password").value,
                confirmpassword: document.getElementById("confirm-password").value,
                userage: document.getElementById("userAge").value,
                Married: document.getElementById("married-checkbox").checked,
                Spousename: document.getElementById("spouse-name").value,
                Spouseage: document.getElementById("spouse-age").value,
                Spousemonthlyincome: document.getElementById("spouse-income").value,
                Children: document.getElementById("num-children").value,
                monthlyincome: document.getElementById("income").value,
                Primaryfinancialgoal: document.getElementById("Goal").value,
                phone: document.getElementById("phone").value,
                Bankname: document.getElementById("bank-name").value,
                AccountNumber: document.getElementById("account-number").value,
                IFSCCode: document.getElementById("ifsc-code").value,
                LinkedCard: document.getElementById("card-digits").value,
                rememberMe: document.getElementById("remember-me").checked,
                recievepermission: document.getElementById("marketing").checked,
                UPIID: document.getElementById("upi-id").value
            };
            localStorage.setItem("userEmail", formData.email);
            // Replace these lines in your handleSignup function
            if (!isValidEmail(formData.email) || !formData.email) errors.push("Valid email is required.");
            if (formData.password.length < 6 || !formData.password || !formData.confirmpassword) errors.push("Password must be at least 6 characters.");
            if (formData.password !== formData.confirmpassword) errors.push("Passwords do not match.");
            if (formData.userage < 18 || !formData.userage) errors.push("You must be at least 18 years old.");
            if (!isValidPhone(formData.phone) || !formData.phone) errors.push("Valid 10-digit phone number is required.");
            if (formData.monthlyincome < 0 || !formData.monthlyincome) errors.push("Valid income is required.");
            if (formData.UPIID) if (isValidUPI(formData.UPIID)) errors.push("Valid income is required.");
            if (formData.IFSCCode) if (isValidIFSC(formData.IFSCCode)) errors.push("Valid income is required.");
            // Additional Checks for Married Users
            // Replace these lines
            if (formData.Married) {
                if (!formData.Spousename) errors.push("Spouse name is required.");
                if (!formData.Spouseage || formData.Spouseage < 18) errors.push("Valid spouse age is required.");
                if (!formData.Spousemonthlyincome || formData.Spousemonthlyincome < 0) errors.push("Valid spouse income is required.");
                if (!formData.Children || formData.Children < 0) errors.push("Valid number of children is required.");
            }

            // Display Errors or Submit Form
            if (errors.length > 0) {
                alert(errors.join("\n"));
                return;
            }
            const data2 = { ...formData };  // Creates a shallow copy
            delete data2.confirmpassword; // Only affects the copy, not the original
            try {
                const checkEmail = await fetch(`https://my-backend-api-erp6.onrender.com/api/users/${data2.email}`, {
                    method: "GET",
                    headers: {
                        "Content-Type": "application/json"
                    }
                });
                const data1 = await checkEmail.json();
                if (data1.valid === 2) {
                    alert("Unauthorized access!");
                    return;
                }
                if (data1.valid === 4) {
                    alert("Invalid or expired token");
                    return;
                }
                if (data1.valid === 5) {
                    alert("Server not responding! Try again later!");
                    return;
                }
                if (data1.valid === 1 || data1.valid === 3) {
                    alert("Please sign-in email already registered!");
                    window.location.href = 'signin.html';
                    return;
                }

                const response = await fetch('https://my-backend-api-erp6.onrender.com/api/users', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data2)
                });
                const data = await response.json();
                console.log(data);
                if (response.status == 200) {
                    localStorage.setItem("monthlyincome" , formData.monthlyincome);
                    // localStorage.setItem("Accountbalance" , formData.Accountbalance);
                    localStorage.setItem("jwtToken", data.token);
                    alert("Registration Successful!");
                    window.location.href = "index.html";
                }
            } catch (error) {
                console.error("Error:", error);
                alert("Registration failed. Please try again.");
            }
        }
    </script>

</body>

</html>
